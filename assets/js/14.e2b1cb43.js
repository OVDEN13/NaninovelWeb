(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{166:function(e,a,t){"use strict";t.r(a);var r=t(20),o=Object(r.a)({},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"characters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#characters","aria-hidden":"true"}},[e._v("#")]),e._v(" Characters")]),e._v(" "),t("p",[e._v("Characters are actors used to represent scene entities that are placed on top of the "),t("router-link",{attrs:{to:"/guide/backgrounds.html"}},[e._v("backgrounds")]),e._v(".")],1),e._v(" "),t("p",[e._v("A character actor is defined with a name, appearance, visibility, transform (position, rotation, scale) and look direction. It can change appearance, visibility, transform and look direction over time.")]),e._v(" "),t("p",[e._v("Characters' behavior can be configured using "),t("code",[e._v("Naninovel -> Configuration -> Characters")]),e._v(" context menu; for available options see "),t("router-link",{attrs:{to:"/guide/configuration.html#characters"}},[e._v("configuration guide")]),e._v(". The characters' resources manager can be accessed using "),t("code",[e._v("Naninovel -> Resources -> Characters")]),e._v(" context menu.")],1),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/c8a4f7f987621831b4a2ecb3145a4a07.png",alt:"Add Character"}})]),e._v(" "),t("p",[e._v("In naninovel scripts, characters are mostly controlled with "),t("router-link",{attrs:{to:"/api/#char"}},[t("code",[e._v("@char")])]),e._v(" command:")],1),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("; Shows character with name `Sora` with a default appearance.\n@char Sora\n\n; Same as above, but sets appearance to `Happy`.\n@char Sora.Happy\n\n; Same as above, but also positions the character 45% away from the left border\n; of the screen and 10% away from the bottom border; also makes him look to the left.\n@char Sora.Happy look:left pos:0.45,0.1\n")])])]),t("h2",{attrs:{id:"display-names"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#display-names","aria-hidden":"true"}},[e._v("#")]),e._v(" Display Names")]),e._v(" "),t("p",[e._v("In the character configuration you can set a "),t("code",[e._v("Display Name")]),e._v(" for specific characters. When set, display name will be shown in the printer name label UI, instead of the character's ID. This allows using compound character names, that contains spaces and special characters (which is not allowed for IDs).")]),e._v(" "),t("p",[e._v('For localization, use "CharacterNames" '),t("a",{attrs:{href:"/guide/managed-text"}},[e._v("managed text")]),e._v(' document, which is automatically created when running generate managed text resources task. Values from the "CharacterNames" document won\'t override values set in the character metadata when under the source locale.')]),e._v(" "),t("p",[e._v("It's possible to bind a display name to a custom variable to dynamically change it throughout the game via naninovel scripts. To bind a display name, specify name of the custom variable wrapped in curly braces in the character configuration menu.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/9743061df462bd809afc45bff20bbb6d.png",alt:""}})]),e._v(" "),t("p",[e._v("You can then change the variable value in the scripts and it will also change the display name:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('@set PlayerName="Mistery Man"\nPlayer: ...\n\n@set PlayerName="Dr. Stein"\nPlayer: You can call me Dr. Stein.\n')])])]),t("p",[e._v("It's also possible to use the name binding feature to allow player pick their display name using "),t("router-link",{attrs:{to:"/api/#input"}},[t("code",[e._v("@input")])]),e._v(" command:")],1),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('@input PlayerName summary:"Choose your name."\n@stop\nPlayer: You can call me {PlayerName}.\n')])])]),t("h2",{attrs:{id:"message-colors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#message-colors","aria-hidden":"true"}},[e._v("#")]),e._v(" Message Colors")]),e._v(" "),t("p",[e._v("When "),t("code",[e._v("Use Character Color")]),e._v(" is enabled in the character configuration, printer text messages and name labels will be tinted in the specified colors when the corresponding character ID is specified in a "),t("router-link",{attrs:{to:"/api/#print"}},[t("code",[e._v("@print")])]),e._v(" command or generic text line.")],1),e._v(" "),t("p",[e._v("The following video demonstrates how to use display names and character colors.")]),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/u5B5s-X2Bw0",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("h2",{attrs:{id:"avatar-textures"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avatar-textures","aria-hidden":"true"}},[e._v("#")]),e._v(" Avatar Textures")]),e._v(" "),t("p",[e._v("You can assign avatar textures to characters using "),t("code",[e._v("avatar")]),e._v(" parameter of "),t("router-link",{attrs:{to:"/api/#char"}},[t("code",[e._v("@char")])]),e._v(" command. Avatars will be shown by the compatible text printers when they print a text message that is associated with the character. Currently, only "),t("code",[e._v("Wide")]),e._v(" and "),t("code",[e._v("Chat")]),e._v(" text printers support the avatars feature.")],1),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/f921ab4ef864aea6980a5c6be6743494.png",alt:""}})]),e._v(" "),t("p",[e._v("To use any given avatar, you have to first add it to the avatar resources and give it a name. You can do this via "),t("code",[e._v("Avatar Resources")]),e._v(" property in the characters configuration menu.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/5a0f10d174aa75ed87da1b472567e40b.png",alt:""}})]),e._v(" "),t("p",[e._v("You can set a default avatar for a character by giving the avatar texture resource name that equals to "),t("code",[e._v("CharacterID/Default")]),e._v("; eg, to set a default avatar for character with ID "),t("code",[e._v("Kohaku")]),e._v(" name the avatar resource "),t("code",[e._v("Kohaku/Default")]),e._v(". Default avatars will be used when "),t("code",[e._v("avatar")]),e._v(" parameter is not set in the "),t("code",[e._v("@char")]),e._v(" commands.")]),e._v(" "),t("p",[e._v("It's also possible to associate avatars with specific character appearances, so that when character changes appearance, the avatar will also change automatically. For this, name the avatar resources using the following format: "),t("code",[e._v("CharacterID/CharacterAppearance")]),e._v(", where "),t("code",[e._v("CharacterAppearance")]),e._v(" is the name of the appearance for which to map the avatar resource.")]),e._v(" "),t("p",[e._v("Please note, that the "),t("strong",[e._v("avatars are not directly connected with character appearances")]),e._v(' and shouldn\'t be considered as a way to show character on the scene. Appearances are the actual representation of a character on the scene. Avatars is a standalone feature, that "injects" an image to a compatible text printer.')]),e._v(" "),t("p",[e._v("It's possible to show only the avatar of a character inside a text printer, but hide the character itself by setting "),t("code",[e._v("visible")]),e._v(" parameter of the "),t("code",[e._v("@char")]),e._v(" command to "),t("code",[e._v("false")]),e._v(", eg:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("@char CharId visible:false\n")])])]),t("h2",{attrs:{id:"speaker-highlight"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#speaker-highlight","aria-hidden":"true"}},[e._v("#")]),e._v(" Speaker Highlight")]),e._v(" "),t("p",[e._v("When enabled in the character configuration, will tint the character based on whether the last printed message is associated with it.")]),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/gobowgagdyE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("h2",{attrs:{id:"lip-sync"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lip-sync","aria-hidden":"true"}},[e._v("#")]),e._v(" Lip Sync")]),e._v(" "),t("p",[t("router-link",{attrs:{to:"/guide/characters.html#generic-characters"}},[e._v("Generic")]),e._v(" and "),t("router-link",{attrs:{to:"/guide/characters.html#live2d-characters"}},[e._v("Live2D")]),e._v(' character implementations support so called "lip synchronization" feature, allowing to drive character\'s mouth animation while its the author of the printed message by sending the appropriate events.')],1),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("p",[e._v("Check the corresponding character implementation docs below for the details on how to setup the lip sync feature.")]),e._v(" "),t("h2",{attrs:{id:"sprite-characters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sprite-characters","aria-hidden":"true"}},[e._v("#")]),e._v(" Sprite Characters")]),e._v(" "),t("p",[e._v("Sprite implementation of the character actors is the most common and simple one; it uses a set of "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/Sprites",target:"_blank",rel:"noopener noreferrer"}},[e._v("sprite"),t("OutboundLink")],1),e._v(" assets to represent appearances of the character. The source of the sprites could be images (textures) of any "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/ImportingTextures",target:"_blank",rel:"noopener noreferrer"}},[e._v("formats supported by Unity"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Sprite character appearance assets can be either managed by editor GUI or placed in a "),t("code",[e._v("Resources/Characters/CharacterName")]),e._v(" folder, "),t("code",[e._v("CharacterName")]),e._v(" being the name of the character, for an automatic exposure.")]),e._v(" "),t("h2",{attrs:{id:"diced-sprite-characters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#diced-sprite-characters","aria-hidden":"true"}},[e._v("#")]),e._v(" Diced Sprite Characters")]),e._v(" "),t("p",[e._v("Built with an open source "),t("a",{attrs:{href:"https://github.com/Elringus/SpriteDicing",target:"_blank",rel:"noopener noreferrer"}},[e._v("SpriteDicing"),t("OutboundLink")],1),e._v(" package (distributed with the main Naninovel package), "),t("code",[e._v("DicedSpriteCharacter")]),e._v(" implementation allows to significantly reduce build size and texture memory by reusing texture areas of the character sprites.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/af08d141e7a08b6a8e2ef60c07332bbf.png",alt:"Sprite Dicing"}})]),e._v(" "),t("p",[t("code",[e._v("DicedSpriteAtlas")]),e._v(" assets containing character appearances are used as the resources for the diced sprite characters. Each appearance is mapped by name to the diced sprites contained in the atlas.")]),e._v(" "),t("p",[e._v("Note, that the implementation doesn't support cross-fading between appearances (they're changed instantly).")]),e._v(" "),t("p",[e._v("The following video guide covers creating and configuring diced sprite atlas, adding new diced character based on the created atlas and controlling the character from a naninovel script.")]),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/6PdOAOsnhio",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("h2",{attrs:{id:"generic-characters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generic-characters","aria-hidden":"true"}},[e._v("#")]),e._v(" Generic Characters")]),e._v(" "),t("p",[e._v("Generic character is the most flexible character actor implementation. It's based on a prefab with a "),t("code",[e._v("CharacterActorBehaviour")]),e._v(" component attached to the root object. Appearance changes and all the other character parameters are routed as "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/UnityEvents.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Unity events"),t("OutboundLink")],1),e._v(" allowing to implement the behavior of the underlying object in any way you wish.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/9f799f4152782afb6ab86d3c494f4cc4.png",alt:""}})]),e._v(" "),t("p",[e._v("To setup lip sync feature for generic characters, use "),t("code",[e._v("On Is Speaking Changed")]),e._v(" boolean Unity event of the "),t("code",[e._v("CharacterActorBehaviour")]),e._v(" component. When the character becomes or ceases to be the author of any printed message, this event will be invoked allowing you to trigger any custom logic, like starting or stopping mouth animation of the controlled character.")]),e._v(" "),t("p",[e._v("Check the following video tutorial for example on setting up a 3D rigged model as a generic character and routing appearance changes to the rig animations via "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/class-AnimatorController.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Animator"),t("OutboundLink")],1),e._v(" component.")]),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("p",[e._v("Be aware, that Unity's "),t("code",[e._v("Animator")]),e._v(" component could fail to register "),t("code",[e._v("SetTrigger")]),e._v(" when the game object is enabled/disabled in the same frame; in case you use "),t("code",[e._v("GameObject.SetActive")]),e._v(" to handle visibility changes (as it's shown in the above tutorial), consider enabling/disabling the child objects with renderers instead.")]),e._v(" "),t("h2",{attrs:{id:"live2d-characters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#live2d-characters","aria-hidden":"true"}},[e._v("#")]),e._v(" Live2D Characters")]),e._v(" "),t("p",[e._v("Live2D character implementation uses assets created with "),t("a",{attrs:{href:"https://www.live2d.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Live2D Cubism"),t("OutboundLink")],1),e._v(" 2D modeling and animation software.")]),e._v(" "),t("p",[e._v("In order to be able to use this implementation you have to first install "),t("a",{attrs:{href:"https://live2d.github.io/#unity",target:"_blank",rel:"noopener noreferrer"}},[e._v("Live2D Cubism SDK for Unity"),t("OutboundLink")],1),e._v(". Consult official Live2D docs for the installation and usage instructions.")]),e._v(" "),t("p",[e._v("Then install "),t("a",{attrs:{href:"https://github.com/Elringus/NaninovelLive2D/raw/master/NaninovelLive2D.unitypackage",target:"_blank",rel:"noopener noreferrer"}},[e._v("NaninovelLive2D"),t("OutboundLink")],1),e._v(" extension package.")]),e._v(" "),t("p",[e._v("Live2D model prefab used as the resource for the implementation should have a "),t("code",[e._v("Live2DController")]),e._v(" component attached to the root object. Appearance changes are routed to the animator component as "),t("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("SetTrigger"),t("OutboundLink")],1),e._v(' commands appearance being the trigger name. Eg, if you have a "Kaori" Live2D character prefab and want to invoke a trigger with name "Surprise", use the following command:')]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("@char Kaori.Surprise\n")])])]),t("p",[e._v("Note, that the above command will only attempt to invoke a "),t("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("SetTrigger"),t("OutboundLink")],1),e._v(' with "Surprise" argument on the animator controller attached to the prefab; you have to compose underlying '),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/Animator",target:"_blank",rel:"noopener noreferrer"}},[e._v("animator"),t("OutboundLink")],1),e._v(" state machine yourself.")]),e._v(" "),t("p",[e._v("When Live2D's "),t("code",[e._v("CubismLookController")]),e._v(" and "),t("code",[e._v("CubismMouthController")]),e._v(" components are present and setup on the Live2D model prefab, "),t("code",[e._v("Live2DController")]),e._v(" can optionally use them to control look direction and mouth animation (aka lip sync feature) of the character.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/498fe948bc5cbdb4dfc5ebc5437ae6b4.png",alt:""}})]),e._v(" "),t("p",[e._v("Consult Live2D documentation on "),t("a",{attrs:{href:"https://docs.live2d.com/cubism-sdk-tutorials/lookat",target:"_blank",rel:"noopener noreferrer"}},[e._v("eye tracking"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"https://docs.live2d.com/cubism-sdk-tutorials/lipsync",target:"_blank",rel:"noopener noreferrer"}},[e._v("lip sync"),t("OutboundLink")],1),e._v(" for the setup details.")]),e._v(" "),t("p",[e._v("Be aware, that "),t("code",[e._v("Live2DController")]),e._v(' expects a "Drawables" gameobject inside the Live2D model prefab (created automatically when importing Live2D models to Unity); the controller will scale this gameobject at runtime in correspondence with "scale" parameter of the '),t("code",[e._v("@char")]),e._v(" commands. Hence, any local scale values set in the editor will be ignored. To set an initial scale for the Live2D prefabs, please use scale of the parent gameobject as "),t("a",{attrs:{href:"https://youtu.be/rw_Z69z0pAg?t=353",target:"_blank",rel:"noopener noreferrer"}},[e._v("shown in the video guide"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v('When Live2D extension is installed a "Live2D" item will appear in the Naninovel configuration menu providing following options:')]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/435a4824f0ce0dd8c9c3f29d457bab24.png",alt:""}})]),e._v(" "),t("p",[e._v('Render layer specifies the layer to apply for the Live2D prefabs and culling mask to use for the cameras that will render the prefabs. Render camera field allows to use a custom setup for the render camera (the default render camera is stored inside the packages "Prefabs" folder). Camera offset allows to offset the render camera from the rendered prefab; you can use this parameters to uniformly position all the Live2D prefabs relative to the camera.')]),e._v(" "),t("p",[e._v("The following video guide covers exporting a Live2D character from Cubism Editor, configuring the prefab, creating a simple animator state machine and controlling the character from a naninovel script.")]),e._v(" "),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/rw_Z69z0pAg",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])])},[],!1,null,null,null);o.options.__file="characters.md";a.default=o.exports}}]);